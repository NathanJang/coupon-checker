"use strict";define("coupon/app",["exports","ember","ember/resolver","ember/load-initializers","coupon/config/environment"],function(e,t,n,a,r){var o;t["default"].MODEL_FACTORY_INJECTIONS=!0,o=t["default"].Application.extend({modulePrefix:r["default"].modulePrefix,podModulePrefix:r["default"].podModulePrefix,Resolver:n["default"]}),a["default"](o,r["default"].modulePrefix),e["default"]=o}),define("coupon/components/app-version",["exports","ember-cli-app-version/components/app-version","coupon/config/environment"],function(e,t,n){var a=n["default"].APP,r=a.name,o=a.version;e["default"]=t["default"].extend({version:o,name:r})}),define("coupon/controllers/array",["exports","ember"],function(e,t){e["default"]=t["default"].Controller}),define("coupon/controllers/authenticate",["exports","ember"],function(e,t){e["default"]=t["default"].Controller.extend({password:"",shouldDisplayWarning:!1,updateWarning:t["default"].observer("password",function(){this.get("shouldDisplayWarning")&&this.set("shouldDisplayWarning",!1)}),actions:{onSubmit:function(e){var t=this.get("store").privateKey(e);t&&this.transitionToRoute("validate"),this.set("shouldDisplayWarning",!t)}}})}),define("coupon/controllers/object",["exports","ember"],function(e,t){e["default"]=t["default"].Controller}),define("coupon/controllers/validate",["exports","ember","coupon/utils/hmac"],function(e,t,n){e["default"]=t["default"].Controller.extend({couponId:"",hash:"",clearHash:t["default"].observer("couponId",function(){this.set("hash","")}),couponIdIsInvalid:t["default"].computed("couponId",function(){var e=this.get("couponId");return"string"!=typeof e?!0:""===e?!1:!e.match(/^10[0-9A-Fa-f]{3}$/)}),actions:{onSubmit:function(e){if(e&&!this.get("couponIdIsInvalid")){var t=this.get("store").privateKey(),a=n["default"](sjcl,t,e);this.set("hash",a)}}}})}),define("coupon/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","coupon/config/environment"],function(e,t,n){var a=n["default"].APP,r=a.name,o=a.version;e["default"]={name:"App Version",initialize:t["default"](r,o)}}),define("coupon/initializers/export-application-global",["exports","ember","coupon/config/environment"],function(e,t,n){function a(){var e=arguments[1]||arguments[0];if(n["default"].exportApplicationGlobal!==!1){var a,r=n["default"].exportApplicationGlobal;a="string"==typeof r?r:t["default"].String.classify(n["default"].modulePrefix),window[a]||(window[a]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete window[a]}}))}}e.initialize=a,e["default"]={name:"export-application-global",initialize:a}}),define("coupon/initializers/store",["exports","coupon/utils/store"],function(e,t){function n(e){e.register("store:main",t["default"],{singleton:!0}),e.inject("controller","store","store:main"),e.inject("route","store","store:main")}e.initialize=n,e["default"]={name:"store",initialize:n}}),define("coupon/router",["exports","ember","coupon/config/environment"],function(e,t,n){var a=t["default"].Router.extend({location:n["default"].locationType});a.map(function(){this.route("authenticate",{path:"/"}),this.route("validate")}),e["default"]=a}),define("coupon/routes/validate",["exports","ember"],function(e,t){e["default"]=t["default"].Route.extend({beforeModel:function(){var e=this.get("store").privateKey();return e?!0:(this.transitionTo("authenticate"),!1)}})}),define("coupon/templates/application",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{topLevel:null,revision:"Ember@2.1.0",loc:{source:null,start:{line:1,column:0},end:{line:7,column:0}},moduleName:"coupon/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","fullscreen-wrapper");var a=e.createTextNode("\n  ");e.appendChild(n,a);var a=e.createElement("div");e.setAttribute(a,"class","centered-box");var r=e.createTextNode("\n    ");e.appendChild(a,r);var r=e.createElement("h1"),o=e.createTextNode("Coupon Checker");e.appendChild(r,o),e.appendChild(a,r);var r=e.createTextNode("\n    ");e.appendChild(a,r);var r=e.createComment("");e.appendChild(a,r);var r=e.createTextNode("\n  ");e.appendChild(a,r),e.appendChild(n,a);var a=e.createTextNode("\n");e.appendChild(n,a),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var a=new Array(1);return a[0]=e.createMorphAt(e.childAt(t,[0,1]),3,3),a},statements:[["content","outlet",["loc",[null,[4,4],[4,14]]]]],locals:[],templates:[]}}())}),define("coupon/templates/authenticate",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){return{meta:{topLevel:null,revision:"Ember@2.1.0",loc:{source:null,start:{line:5,column:6},end:{line:7,column:6}},moduleName:"coupon/templates/authenticate.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("        ");e.appendChild(t,n);var n=e.createElement("span");e.setAttribute(n,"class","glyphicon glyphicon-remove form-control-feedback"),e.setAttribute(n,"aria-hidden","true"),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{topLevel:null,revision:"Ember@2.1.0",loc:{source:null,start:{line:1,column:0},end:{line:14,column:0}},moduleName:"coupon/templates/authenticate.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","col-sm-6 col-sm-offset-3");var a=e.createTextNode("\n  ");e.appendChild(n,a);var a=e.createElement("form"),r=e.createTextNode("\n    ");e.appendChild(a,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var o=e.createTextNode("\n      ");e.appendChild(r,o);var o=e.createComment("");e.appendChild(r,o);var o=e.createTextNode("\n");e.appendChild(r,o);var o=e.createComment("");e.appendChild(r,o);var o=e.createTextNode("    ");e.appendChild(r,o),e.appendChild(a,r);var r=e.createTextNode("\n    ");e.appendChild(a,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var o=e.createTextNode("\n      ");e.appendChild(r,o);var o=e.createElement("button");e.setAttribute(o,"class","btn btn-default");var l=e.createTextNode("Enter");e.appendChild(o,l),e.appendChild(r,o);var o=e.createTextNode("\n    ");e.appendChild(r,o),e.appendChild(a,r);var r=e.createTextNode("\n  ");e.appendChild(a,r),e.appendChild(n,a);var a=e.createTextNode("\n");e.appendChild(n,a),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var a=e.childAt(t,[0,1]),r=e.childAt(a,[1]),o=new Array(4);return o[0]=e.createAttrMorph(a,"class"),o[1]=e.createElementMorph(a),o[2]=e.createMorphAt(r,1,1),o[3]=e.createMorphAt(r,3,3),o},statements:[["attribute","class",["subexpr","if",[["get","shouldDisplayWarning",["loc",[null,[2,19],[2,39]]]],"has-error has-feedback"],[],["loc",[null,[2,14],[2,66]]]]],["element","action",["onSubmit",["get","password",["loc",[null,[2,87],[2,95]]]]],["on","submit"],["loc",[null,[2,67],[2,109]]]],["inline","input",[],["type","password","value",["subexpr","@mut",[["get","password",["loc",[null,[4,36],[4,44]]]]],[],[]],"class","form-control","placeholder","password"],["loc",[null,[4,6],[4,90]]]],["block","if",[["get","shouldDisplayWarning",["loc",[null,[5,12],[5,32]]]]],[],0,null,["loc",[null,[5,6],[7,13]]]]],locals:[],templates:[e]}}())}),define("coupon/templates/validate",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){return{meta:{topLevel:null,revision:"Ember@2.1.0",loc:{source:null,start:{line:5,column:6},end:{line:7,column:6}},moduleName:"coupon/templates/validate.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("        ");e.appendChild(t,n);var n=e.createElement("span");e.setAttribute(n,"class","glyphicon glyphicon-remove form-control-feedback"),e.setAttribute(n,"aria-hidden","true"),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{topLevel:null,revision:"Ember@2.1.0",loc:{source:null,start:{line:1,column:0},end:{line:17,column:0}},moduleName:"coupon/templates/validate.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","col-sm-6 col-sm-offset-3");var a=e.createTextNode("\n  ");e.appendChild(n,a);var a=e.createElement("form"),r=e.createTextNode("\n    ");e.appendChild(a,r);var r=e.createElement("div"),o=e.createTextNode("\n      ");e.appendChild(r,o);var o=e.createComment("");e.appendChild(r,o);var o=e.createTextNode("\n");e.appendChild(r,o);var o=e.createComment("");e.appendChild(r,o);var o=e.createTextNode("    ");e.appendChild(r,o),e.appendChild(a,r);var r=e.createTextNode("\n    ");e.appendChild(a,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var o=e.createTextNode("\n      ");e.appendChild(r,o);var o=e.createElement("button");e.setAttribute(o,"class","btn btn-default");var l=e.createTextNode("Check");e.appendChild(o,l),e.appendChild(r,o);var o=e.createTextNode("\n    ");e.appendChild(r,o),e.appendChild(a,r);var r=e.createTextNode("\n    ");e.appendChild(a,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var o=e.createTextNode("\n      ");e.appendChild(r,o);var o=e.createComment("");e.appendChild(r,o);var o=e.createTextNode("\n    ");e.appendChild(r,o),e.appendChild(a,r);var r=e.createTextNode("\n  ");e.appendChild(a,r),e.appendChild(n,a);var a=e.createTextNode("\n");e.appendChild(n,a),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var a=e.childAt(t,[0,1]),r=e.childAt(a,[1]),o=new Array(5);return o[0]=e.createElementMorph(a),o[1]=e.createAttrMorph(r,"class"),o[2]=e.createMorphAt(r,1,1),o[3]=e.createMorphAt(r,3,3),o[4]=e.createMorphAt(e.childAt(a,[5]),1,1),o},statements:[["element","action",["onSubmit",["get","couponId",["loc",[null,[2,28],[2,36]]]]],["on","submit"],["loc",[null,[2,8],[2,50]]]],["attribute","class",["concat",["form-group ",["subexpr","if",[["get","couponIdIsInvalid",["loc",[null,[3,32],[3,49]]]],"has-error has-feedback"],[],["loc",[null,[3,27],[3,76]]]]]]],["inline","input",[],["type","text","value",["subexpr","@mut",[["get","couponId",["loc",[null,[4,32],[4,40]]]]],[],[]],"class","form-control","placeholder","Coupon ID"],["loc",[null,[4,6],[4,87]]]],["block","if",[["get","couponIdIsInvalid",["loc",[null,[5,12],[5,29]]]]],[],0,null,["loc",[null,[5,6],[7,13]]]],["inline","input",[],["type","text","value",["subexpr","@mut",[["get","hash",["loc",[null,[13,32],[13,36]]]]],[],[]],"class","form-control","readonly","readonly","placeholder","Validation Code"],["loc",[null,[13,6],[13,109]]]]],locals:[],templates:[e]}}())}),define("coupon/utils/hmac",["exports"],function(e){function t(e,t,n){if("object"!=typeof e||"string"!=typeof t||"string"!=typeof n)throw new Error("Invalid arguments");var a=new e.misc.hmac(t,e.hash.sha256).mac(n),r=e.codec.hex.fromBits(a);return r}e["default"]=t}),define("coupon/utils/store",["exports","ember","coupon/config/environment"],function(e,t,n){e["default"]=t["default"].Object.extend({encryptedPrivateKey:n["default"].APP.encryptedPrivateKey,decryptedPrivateKey:null,privateKey:function(e){var n=this.get("decryptedPrivateKey");if(n)return n;if(!e)return!1;t["default"].Logger.debug("Decrypting private key.");try{n=sjcl.json.decrypt(e,this.get("encryptedPrivateKey"))}catch(a){if(a instanceof sjcl.exception.corrupt)return!1;throw a}return this.set("decryptedPrivateKey",n),n}})}),define("coupon/config/environment",["ember"],function(e){var t="coupon";try{var n=t+"/config/environment",a=e["default"].$('meta[name="'+n+'"]').attr("content"),r=JSON.parse(unescape(a));return{"default":r}}catch(o){throw new Error('Could not read config from meta tag with name "'+n+'".')}}),runningTests?require("coupon/tests/test-helper"):require("coupon/app")["default"].create({encryptedPrivateKey:'{"iv":"2HF4eikSXrBG8A9KioNI6Q==","v":1,"iter":1000,"ks":128,"ts":64,"mode":"ccm","adata":"","cipher":"aes","salt":"ai4+euYpRXk=","ct":"ClPP5Y6EbTsXbeKAz0mwyzKL"}',name:"coupon",version:"0.0.0+0ddbbe5c"});